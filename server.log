D:\anaconda3\envs\fornew\Lib\site-packages\pydantic\_internal\_fields.py:149: UserWarning: Field "model_name" has conflict with protected namespace "model_".

You may be able to resolve this warning by setting `model_config['protected_namespaces'] = ()`.
  warnings.warn(
D:\HuaweiMoveData\Users\Dr.Tom_Great\Desktop\final\main.py:100: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
D:\HuaweiMoveData\Users\Dr.Tom_Great\Desktop\final\main.py:117: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("shutdown")
2025-07-24 11:06:15 | INFO     | __main__:<module>:160 - 启动开发服务器...
INFO:     Will watch for changes in these directories: ['D:\\HuaweiMoveData\\Users\\Dr.Tom_Great\\Desktop\\final']
INFO:     Uvicorn running on http://127.0.0.1:8080 (Press CTRL+C to quit)
INFO:     Started reloader process [6280] using StatReload
D:\anaconda3\envs\fornew\Lib\site-packages\pydantic\_internal\_fields.py:149: UserWarning: Field "model_name" has conflict with protected namespace "model_".

You may be able to resolve this warning by setting `model_config['protected_namespaces'] = ()`.
  warnings.warn(
INFO:     Started server process [31924]
INFO:     Waiting for application startup.
2025-07-24 11:06:17 | INFO     | main:startup_event:104 - 正在启动工作流管理框架...
2025-07-24 11:06:17 | INFO     | workflow_framework.utils.database:initialize:40 - 单个连接测试成功
2025-07-24 11:06:17 | INFO     | workflow_framework.utils.database:initialize:43 - 使用单连接模式（Windows兼容）
2025-07-24 11:06:17 | INFO     | main:startup_event:108 - 数据库连接初始化成功
2025-07-24 11:06:17 | INFO     | main:startup_event:110 - 工作流管理框架启动完成
INFO:     Application startup complete.
INFO:     127.0.0.1:38493 - "GET /health HTTP/1.1" 200 OK
2025-07-24 11:07:27 | WARNING  | workflow_framework.api.auth:register_user:67 - 用户注册失败: 用户名 'testuser' 已存在
2025-07-24 11:07:27 | WARNING  | main:business_exception_handler:46 - 业务异常: CONFLICT - 用户名 'testuser' 已存在
INFO:     127.0.0.1:38495 - "POST /api/auth/register HTTP/1.1" 409 Conflict
2025-07-24 11:07:28 | ERROR    | workflow_framework.repositories.user.user_repository:get_user_by_username:83 - 根据用户名获取用户失败: 字段 "username" 不存在
2025-07-24 11:07:28 | ERROR    | workflow_framework.services.auth_service:authenticate_user:168 - 用户认证失败: 字段 "username" 不存在
2025-07-24 11:07:28 | WARNING  | workflow_framework.api.auth:login_user:114 - 用户登录失败: 认证失败: 字段 "username" 不存在
2025-07-24 11:07:28 | WARNING  | main:business_exception_handler:46 - 业务异常: AUTHENTICATION_ERROR - 认证失败: 字段 "username" 不存在
INFO:     127.0.0.1:38500 - "POST /api/auth/login HTTP/1.1" 401 Unauthorized
WARNING:  StatReload detected changes in 'workflow_framework\repositories\user\user_repository.py'. Reloading...
INFO:     127.0.0.1:38609 - "GET /health HTTP/1.1" 200 OK
2025-07-24 11:08:20 | WARNING  | workflow_framework.api.auth:register_user:67 - 用户注册失败: 用户名 'testuser' 已存在
2025-07-24 11:08:20 | WARNING  | main:business_exception_handler:46 - 业务异常: CONFLICT - 用户名 'testuser' 已存在
INFO:     127.0.0.1:38618 - "POST /api/auth/register HTTP/1.1" 409 Conflict
2025-07-24 11:08:20 | ERROR    | workflow_framework.repositories.user.user_repository:get_user_by_username:83 - 根据用户名获取用户失败: 字段 "username" 不存在
2025-07-24 11:08:20 | ERROR    | workflow_framework.services.auth_service:authenticate_user:168 - 用户认证失败: 字段 "username" 不存在
2025-07-24 11:08:20 | WARNING  | workflow_framework.api.auth:login_user:114 - 用户登录失败: 认证失败: 字段 "username" 不存在
2025-07-24 11:08:20 | WARNING  | main:business_exception_handler:46 - 业务异常: AUTHENTICATION_ERROR - 认证失败: 字段 "username" 不存在
INFO:     127.0.0.1:38621 - "POST /api/auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:38773 - "GET /health HTTP/1.1" 200 OK
2025-07-24 11:10:37 | WARNING  | workflow_framework.api.auth:register_user:67 - 用户注册失败: 用户名 'testuser' 已存在
2025-07-24 11:10:37 | WARNING  | main:business_exception_handler:46 - 业务异常: CONFLICT - 用户名 'testuser' 已存在
INFO:     127.0.0.1:38776 - "POST /api/auth/register HTTP/1.1" 409 Conflict
2025-07-24 11:10:38 | ERROR    | workflow_framework.repositories.user.user_repository:get_user_by_username:83 - 根据用户名获取用户失败: 字段 "username" 不存在
2025-07-24 11:10:38 | ERROR    | workflow_framework.services.auth_service:authenticate_user:168 - 用户认证失败: 字段 "username" 不存在
2025-07-24 11:10:38 | WARNING  | workflow_framework.api.auth:login_user:114 - 用户登录失败: 认证失败: 字段 "username" 不存在
2025-07-24 11:10:38 | WARNING  | main:business_exception_handler:46 - 业务异常: AUTHENTICATION_ERROR - 认证失败: 字段 "username" 不存在
INFO:     127.0.0.1:38782 - "POST /api/auth/login HTTP/1.1" 401 Unauthorized
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-24 11:11:15 | INFO     | main:shutdown_event:121 - 正在关闭工作流管理框架...
2025-07-24 11:11:15 | INFO     | main:shutdown_event:125 - 数据库连接已关闭
INFO:     Application shutdown complete.
2025-07-24 11:11:15 | INFO     | main:shutdown_event:127 - 工作流管理框架已关闭
INFO:     Finished server process [31924]
D:\anaconda3\envs\fornew\Lib\site-packages\pydantic\_internal\_fields.py:149: UserWarning: Field "model_name" has conflict with protected namespace "model_".

You may be able to resolve this warning by setting `model_config['protected_namespaces'] = ()`.
  warnings.warn(
INFO:     Started server process [15436]
INFO:     Waiting for application startup.
2025-07-24 11:11:16 | INFO     | main:startup_event:104 - 正在启动工作流管理框架...
2025-07-24 11:11:17 | INFO     | workflow_framework.utils.database:initialize:40 - 单个连接测试成功
2025-07-24 11:11:17 | INFO     | workflow_framework.utils.database:initialize:43 - 使用单连接模式（Windows兼容）
INFO:     Application startup complete.
2025-07-24 11:11:17 | INFO     | main:startup_event:108 - 数据库连接初始化成功
2025-07-24 11:11:17 | INFO     | main:startup_event:110 - 工作流管理框架启动完成
WARNING:  StatReload detected changes in 'workflow_framework\services\auth_service.py'. Reloading...
INFO:     127.0.0.1:39025 - "GET /health HTTP/1.1" 200 OK
2025-07-24 11:12:57 | WARNING  | workflow_framework.api.auth:register_user:67 - 用户注册失败: 用户名 'testuser' 已存在
2025-07-24 11:12:57 | WARNING  | main:business_exception_handler:46 - 业务异常: CONFLICT - 用户名 'testuser' 已存在
INFO:     127.0.0.1:39027 - "POST /api/auth/register HTTP/1.1" 409 Conflict
(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\anaconda3\envs\fornew\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-24 11:12:58 | ERROR    | workflow_framework.repositories.base:update:75 - 更新记录失败: 对同一列"updated_at"进行了多次分配
2025-07-24 11:12:58 | ERROR    | workflow_framework.services.auth_service:authenticate_user:168 - 用户认证失败: 对同一列"updated_at"进行了多次分配
2025-07-24 11:12:58 | WARNING  | workflow_framework.api.auth:login_user:114 - 用户登录失败: 认证失败: 对同一列"updated_at"进行了多次分配
2025-07-24 11:12:58 | WARNING  | main:business_exception_handler:46 - 业务异常: AUTHENTICATION_ERROR - 认证失败: 对同一列"updated_at"进行了多次分配
INFO:     127.0.0.1:39031 - "POST /api/auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:39099 - "GET /health HTTP/1.1" 200 OK
2025-07-24 11:13:42 | WARNING  | workflow_framework.api.auth:register_user:67 - 用户注册失败: 用户名 'testuser' 已存在
2025-07-24 11:13:42 | WARNING  | main:business_exception_handler:46 - 业务异常: CONFLICT - 用户名 'testuser' 已存在
INFO:     127.0.0.1:39101 - "POST /api/auth/register HTTP/1.1" 409 Conflict
2025-07-24 11:13:43 | ERROR    | workflow_framework.repositories.base:update:75 - 更新记录失败: 对同一列"updated_at"进行了多次分配
2025-07-24 11:13:43 | ERROR    | workflow_framework.services.auth_service:authenticate_user:168 - 用户认证失败: 对同一列"updated_at"进行了多次分配
2025-07-24 11:13:43 | WARNING  | workflow_framework.api.auth:login_user:114 - 用户登录失败: 认证失败: 对同一列"updated_at"进行了多次分配
2025-07-24 11:13:43 | WARNING  | main:business_exception_handler:46 - 业务异常: AUTHENTICATION_ERROR - 认证失败: 对同一列"updated_at"进行了多次分配
INFO:     127.0.0.1:39104 - "POST /api/auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:39134 - "GET /health HTTP/1.1" 200 OK
2025-07-24 11:14:03 | WARNING  | workflow_framework.api.auth:register_user:67 - 用户注册失败: 用户名 'testuser' 已存在
2025-07-24 11:14:03 | WARNING  | main:business_exception_handler:46 - 业务异常: CONFLICT - 用户名 'testuser' 已存在
INFO:     127.0.0.1:39136 - "POST /api/auth/register HTTP/1.1" 409 Conflict
2025-07-24 11:14:04 | ERROR    | workflow_framework.repositories.base:update:75 - 更新记录失败: 对同一列"updated_at"进行了多次分配
2025-07-24 11:14:04 | ERROR    | workflow_framework.services.auth_service:authenticate_user:168 - 用户认证失败: 对同一列"updated_at"进行了多次分配
2025-07-24 11:14:04 | WARNING  | workflow_framework.api.auth:login_user:114 - 用户登录失败: 认证失败: 对同一列"updated_at"进行了多次分配
2025-07-24 11:14:04 | WARNING  | main:business_exception_handler:46 - 业务异常: AUTHENTICATION_ERROR - 认证失败: 对同一列"updated_at"进行了多次分配
INFO:     127.0.0.1:39142 - "POST /api/auth/login HTTP/1.1" 401 Unauthorized
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-24 11:16:15 | INFO     | main:shutdown_event:121 - 正在关闭工作流管理框架...
2025-07-24 11:16:15 | INFO     | main:shutdown_event:125 - 数据库连接已关闭
2025-07-24 11:16:15 | INFO     | main:shutdown_event:127 - 工作流管理框架已关闭
INFO:     Application shutdown complete.
INFO:     Finished server process [15436]
D:\anaconda3\envs\fornew\Lib\site-packages\pydantic\_internal\_fields.py:149: UserWarning: Field "model_name" has conflict with protected namespace "model_".

You may be able to resolve this warning by setting `model_config['protected_namespaces'] = ()`.
  warnings.warn(
INFO:     Started server process [8012]
INFO:     Waiting for application startup.
2025-07-24 11:16:16 | INFO     | main:startup_event:104 - 正在启动工作流管理框架...
2025-07-24 11:16:17 | INFO     | workflow_framework.utils.database:initialize:40 - 单个连接测试成功
2025-07-24 11:16:17 | INFO     | workflow_framework.utils.database:initialize:43 - 使用单连接模式（Windows兼容）
2025-07-24 11:16:17 | INFO     | main:startup_event:108 - 数据库连接初始化成功
2025-07-24 11:16:17 | INFO     | main:startup_event:110 - 工作流管理框架启动完成
INFO:     Application startup complete.

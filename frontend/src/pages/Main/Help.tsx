import React, { useState, useEffect } from 'react';
import { Card, Tabs, Typography, Spin, Alert, Button, Space } from 'antd';
import { DownloadOutlined, EyeOutlined } from '@ant-design/icons';
import MarkdownRenderer from '../../components/MarkdownRenderer';

const { Title, Paragraph, Text } = Typography;

const Help: React.FC = () => {
  const [loading, setLoading] = useState(false);
  const [viewMode, setViewMode] = useState<'rendered' | 'raw'>('rendered');

  // å¯¼å‡ºMarkdownæ–‡æ¡£
  const exportMarkdown = () => {
    const allContent = `# Autoflow å·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°å®Œæ•´ä½¿ç”¨è¯´æ˜

${documentationContent.overview}

---

${documentationContent.workflow}

---

${documentationContent.resource}

---

${documentationContent.tasks}`;

    const blob = new Blob([allContent], { type: 'text/markdown' });
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = 'Autoflow_ä½¿ç”¨è¯´æ˜.md';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);
  };

  const documentationContent = {
    overview: `# Autoflow å·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°ä½¿ç”¨è¯´æ˜

## ğŸš€ å¹³å°ç®€ä»‹

**Autoflow** æ˜¯ä¸€ä¸ªæ™ºèƒ½å·¥ä½œæµè‡ªåŠ¨åŒ–å¹³å°ï¼Œæ”¯æŒ Agent ç®¡ç†ã€äººæœºåä½œå’Œå·¥ä½œæµçš„åˆ›å»ºã€æ‰§è¡Œä¸ç›‘æ§ã€‚

> âœ… **æ ¸å¿ƒä¼˜åŠ¿**
> - ğŸ¤– æ™ºèƒ½ Agent åä½œ
> - ğŸ”„ å¯è§†åŒ–å·¥ä½œæµè®¾è®¡  
> - ğŸ“Š å®æ—¶æ‰§è¡Œç›‘æ§
> - ğŸ› ï¸ ä¸°å¯Œçš„å·¥å…·é›†æˆ

---

## ğŸ“‹ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ ä»ªè¡¨æ¿ (Dashboard)
- **èµ„æºæ¦‚è§ˆ** - æŸ¥çœ‹æ€»ä½“èµ„æºçŠ¶å†µ
- **ä»»åŠ¡ç»Ÿè®¡** - ç›‘æ§å¾…åŠä»»åŠ¡æ•°é‡  
- **ç”¨æˆ·åˆ†æ** - ç”¨æˆ·å’Œ Agent ç»Ÿè®¡æ¦‚è§ˆ

### ğŸ”§ èµ„æºç®¡ç†
- **èµ„æºæ¦‚å†µ** - æŸ¥çœ‹æ‰€æœ‰ Agent å’Œç”¨æˆ·
- **Agent ç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘å’Œé…ç½® Agent
- **Processor ç®¡ç†** - ç”¨æˆ·å’Œ Agent å¤„ç†å™¨æ³¨å†Œ
- **æˆ‘çš„å·¥å…·** - MCP å·¥å…·é›†æˆå’Œç®¡ç†

### ğŸŒŠ å·¥ä½œæµç®¡ç†  
- **å·¥ä½œæµæ¨¡æ¿** - åˆ›å»ºã€ç¼–è¾‘ã€å¯¼å…¥å¯¼å‡ºå·¥ä½œæµæ¨¡æ¿
- **æ‰§è¡Œè®°å½•** - æŸ¥çœ‹å·¥ä½œæµå®ä¾‹åŒ–æ‰§è¡Œæƒ…å†µ
- **AI ç”Ÿæˆ** - æ™ºèƒ½ç”Ÿæˆå·¥ä½œæµæ¨¡æ¿
- **æ¨¡æ¿åˆå¹¶** - æ”¯æŒå­å·¥ä½œæµé€’å½’åˆå¹¶

### âœ… å¾…åŠä»»åŠ¡
- **ä»»åŠ¡åˆ—è¡¨** - æŸ¥çœ‹åˆ†é…ç»™è‡ªå·±çš„ä»»åŠ¡
- **æ‰§è¡Œç®¡ç†** - ä»»åŠ¡æ‰§è¡Œå’Œç»“æœæäº¤
- **ä»»åŠ¡ç»†åˆ†** - ä»»åŠ¡ç»†åˆ†å’Œå·¥ä½œæµåˆ›å»º
- **çŠ¶æ€ç›‘æ§** - å­ä»»åŠ¡çŠ¶æ€ç›‘æ§

### ğŸ‘¤ ä¸ªäººä¸­å¿ƒ
- **ä¿¡æ¯ç®¡ç†** - ä¿®æ”¹é‚®ç®±å’Œä¸ªäººä¿¡æ¯
- **ä¸ªäººç®€ä»‹** - æ·»åŠ ä¸ªäººæè¿°

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

\`\`\`mermaid
graph TD
    A[æ³¨å†Œç™»å½•] --> B[åˆ›å»º Agent]
    B --> C[æ³¨å†Œ Processor]
    C --> D[åˆ›å»ºå·¥ä½œæµ]
    D --> E[æ‰§è¡Œå·¥ä½œæµ]
\`\`\`

### æ­¥éª¤è¯¦è§£

1. **æ³¨å†Œç™»å½•** â†’ è®¿é—®å¹³å°å¹¶åˆ›å»ºè´¦å·
2. **åˆ›å»º Agent** â†’ åœ¨èµ„æºç®¡ç†ä¸­æ³¨å†Œ Agent
3. **æ³¨å†Œ Processor** â†’ å°†ç”¨æˆ·/Agent æ³¨å†Œä¸ºå¤„ç†å™¨
4. **åˆ›å»ºå·¥ä½œæµ** â†’ è®¾è®¡è‡ªå·±çš„è‡ªåŠ¨åŒ–æµç¨‹
5. **æ‰§è¡Œå·¥ä½œæµ** â†’ å®ä¾‹åŒ–æ¨¡æ¿å¹¶ç›‘æ§æ‰§è¡Œ

> âš ï¸ **é‡è¦æé†’**
> ç”¨æˆ·å’Œ Agent åªæœ‰è¢«æ³¨å†Œä¸º Processor æ‰èƒ½è¢«å·¥ä½œæµè°ƒç”¨ï¼`,

    workflow: `# ğŸŒŠ å·¥ä½œæµç®¡ç†è¯¦ç»†æŒ‡å—

## å·¥ä½œæµæ¨¡æ¿åˆ›å»º

### 1. åˆ›å»ºæµç¨‹

\`\`\`bash
# åˆ›å»ºå·¥ä½œæµçš„åŸºæœ¬æµç¨‹
1. ç‚¹å‡»"å·¥ä½œæµç®¡ç†" â†’ "åˆ›å»ºå·¥ä½œæµ"
2. é€‰æ‹©èŠ‚ç‚¹ç±»å‹
3. æ·»åŠ èŠ‚ç‚¹å¹¶è¿æ¥å…³ç³»  
4. ç»‘å®š Processor
5. ä¿å­˜å·¥ä½œæµæ¨¡æ¿
\`\`\`

### 2. èŠ‚ç‚¹ç±»å‹

| èŠ‚ç‚¹ç±»å‹ | æè¿° | é…ç½®è¦ç‚¹ |
|---------|------|----------|
| **å¼€å§‹èŠ‚ç‚¹** | å·¥ä½œæµå…¥å£ç‚¹ | å®šä¹‰è¾“å…¥å‚æ•°å’Œè§¦å‘æ¡ä»¶ |
| **ä¸­é—´èŠ‚ç‚¹** | å¤„ç†ä¸šåŠ¡é€»è¾‘ | ç»‘å®šå…·ä½“çš„å¤„ç†å™¨ |
| **ç»“æŸèŠ‚ç‚¹** | å·¥ä½œæµå‡ºå£ç‚¹ | å®šä¹‰è¾“å‡ºç»“æœå’Œå®Œæˆæ¡ä»¶ |

### 3. èŠ‚ç‚¹é…ç½®è¯¦è§£

#### å¼€å§‹èŠ‚ç‚¹ ğŸ
- å®šä¹‰è¾“å…¥å‚æ•°å’Œè§¦å‘æ¡ä»¶
- è®¾ç½®å·¥ä½œæµçš„åˆå§‹çŠ¶æ€
- é…ç½®æ•°æ®æ¥æº

#### å¤„ç†èŠ‚ç‚¹ âš™ï¸
- ç»‘å®šå…·ä½“çš„å¤„ç†å™¨ï¼ˆAgent æˆ–äººå·¥ï¼‰
- é…ç½®ä»»åŠ¡æè¿°å’Œæ‰§è¡Œå‚æ•°
- è®¾ç½®è¶…æ—¶å’Œé‡è¯•ç­–ç•¥

#### ç»“æŸèŠ‚ç‚¹ ğŸ¯
- å®šä¹‰è¾“å‡ºç»“æœå’Œå®Œæˆæ¡ä»¶
- é…ç½®ç»“æœæ ¼å¼åŒ–
- è®¾ç½®å®Œæˆé€šçŸ¥

### 4. AI æ™ºèƒ½ç”Ÿæˆ

> âœ… **AI åŠŸèƒ½ç‰¹ç‚¹**
> - ğŸ§  è‡ªç„¶è¯­è¨€æè¿°è½¬æ¢ä¸ºå·¥ä½œæµ
> - ğŸ¨ æ™ºèƒ½èŠ‚ç‚¹å¸ƒå±€å’Œè¿æ¥
> - ğŸ”§ è‡ªåŠ¨é…ç½®æ¨è

\`\`\`typescript
// AI ç”Ÿæˆå·¥ä½œæµç¤ºä¾‹
const workflowDescription = "åˆ›å»ºä¸€ä¸ªæ•°æ®å¤„ç†å·¥ä½œæµï¼ŒåŒ…å«æ•°æ®æ”¶é›†ã€æ¸…æ´—ã€åˆ†æå’ŒæŠ¥å‘Šç”Ÿæˆ";
const generatedWorkflow = await aiService.generateWorkflow(workflowDescription);
\`\`\`

### 5. å·¥ä½œæµæ‰§è¡Œ

#### æ‰§è¡Œç›‘æ§ ğŸ“Š

- **å®æ—¶çŠ¶æ€** - æŸ¥çœ‹å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€å’Œè¿›åº¦
- **èŠ‚ç‚¹è¯¦æƒ…** - èŠ‚ç‚¹çº§åˆ«çš„æ‰§è¡Œæƒ…å†µ
- **å›¾å½¢è§†å›¾** - å¯è§†åŒ–å±•ç¤ºæ•´ä¸ªå·¥ä½œæµçŠ¶æ€

#### æ‰§è¡Œæ§åˆ¶ ğŸ®

\`\`\`javascript
// å·¥ä½œæµæ‰§è¡Œæ§åˆ¶
workflow.start();    // å¯åŠ¨æ‰§è¡Œ
workflow.cancel();   // å–æ¶ˆæ‰§è¡Œ
\`\`\`

---

## ğŸ“ å·¥ä½œæµæ“ä½œ

### å¯¼å…¥å¯¼å‡º

- **å¯¼å‡ºæ ¼å¼** - JSON æ ¼å¼çš„å·¥ä½œæµæ¨¡æ¿
- **å¯¼å…¥æ”¯æŒ** - ä» JSON æ–‡ä»¶åŠ è½½å·¥ä½œæµæ¨¡æ¿
- **ç‰ˆæœ¬å…¼å®¹** - æ”¯æŒä¸åŒç‰ˆæœ¬é—´çš„æ¨¡æ¿è¿ç§»

### æ¨¡æ¿åˆå¹¶

> ğŸ”„ **åˆå¹¶åŠŸèƒ½**
> - æ”¯æŒå­å·¥ä½œæµç»†åˆ†åçš„é€’å½’åˆå¹¶
> - å¯ä»¥ç”¨ç»†åˆ†å·¥ä½œæµæ›¿ä»£åŸæœ‰å·¥ä½œèŠ‚ç‚¹
> - åˆå¹¶åç”Ÿæˆæ–°çš„å·¥ä½œæµæ¨¡æ¿

### ç¼–è¾‘ç®¡ç†

- **å®æ—¶ç¼–è¾‘** - å·¥ä½œæµæ¨¡æ¿å®æ—¶ç¼–è¾‘
- **ç‰ˆæœ¬æ§åˆ¶** - å†å²ç‰ˆæœ¬ç®¡ç†å’Œå›æ»š
- **æ¨¡æ¿ç®¡ç†** - åˆ é™¤ä¸éœ€è¦çš„æ¨¡æ¿`,

    resource: `# ğŸ”§ èµ„æºç®¡ç†è¯¦ç»†è¯´æ˜

## Agent ç®¡ç†

### 1. åˆ›å»º Agent

` + '```mermaid' + `
graph LR
    A[è¿›å…¥Agentç®¡ç†] --> B[ç‚¹å‡»åˆ›å»º]
    B --> C[å¡«å†™åŸºæœ¬ä¿¡æ¯]
    C --> D[åˆ›å»ºProcessor]
    D --> E[é…ç½®å·¥å…·]
` + '```' + `

#### åˆ›å»ºæ­¥éª¤
1. è¿›å…¥"èµ„æºç®¡ç†" â†’ "Agent ç®¡ç†"
2. ç‚¹å‡»"åˆ›å»ºå•ä¸ª agent"
3. å¡«å†™ Agent åŸºæœ¬ä¿¡æ¯
4. åˆ›å»ºå®Œæˆåéœ€è¦åˆ›å»ºå¯¹åº”çš„ Processor

### 2. Agent é…ç½®

| é…ç½®é¡¹ | è¯´æ˜ | ç¤ºä¾‹ |
|-------|------|------|
| **å¤„ç†èƒ½åŠ›** | å®šä¹‰ Agent çš„ä¸“ä¸šé¢†åŸŸ | æ•°æ®åˆ†æã€æ–‡æœ¬å¤„ç† |
| **æè¿°å±æ€§** | Agent çš„è¯¦ç»†æè¿° | ä¸“æ³¨äºæ•°æ®å¯è§†åŒ–çš„AIåŠ©æ‰‹ |
| **å·¥å…·é›†æˆ** | ç»‘å®šçš„ MCP å·¥å…· | æ•°æ®åº“è¿æ¥å™¨ã€APIè°ƒç”¨å™¨ |

---

## ğŸ› ï¸ Processor ç®¡ç†

### âš ï¸ é‡è¦æé†’

> **ç”¨æˆ·å’Œ Agent åªæœ‰è¢«æ³¨å†Œä¸º Processor æ‰èƒ½è¢«å·¥ä½œæµè°ƒç”¨ï¼**

### 1. åˆ›å»º Processor

#### å¤„ç†å™¨ç±»å‹

- **ç”¨æˆ·å¤„ç†å™¨** ğŸ‘¤
  - äººå·¥å¤„ç†ä»»åŠ¡
  - éœ€è¦æ‰‹åŠ¨äº¤äº’
  - é€‚åˆå¤æ‚å†³ç­–åœºæ™¯

- **Agent å¤„ç†å™¨** ğŸ¤–
  - AI è‡ªåŠ¨å¤„ç†
  - æ— äººå€¼å®ˆè¿è¡Œ
  - é€‚åˆæ ‡å‡†åŒ–æµç¨‹

### 2. ç»‘å®šé…ç½®

#### ç”¨æˆ·ç»‘å®š ğŸ‘¥
` + '```json' + `
{
  "user_id": "user123",
  "capabilities": ["data_analysis", "report_writing"],
  "permissions": ["read", "write", "execute"],
  "status": "active"
}
` + '```' + `

#### Agent ç»‘å®š ğŸ”—
` + '```json' + `
{
  "agent_id": "agent456",
  "call_parameters": {
    "model": "gpt-4",
    "temperature": 0.7,
    "max_tokens": 2000
  },
  "tools": ["calculator", "web_search"]
}
` + '```' + `

---

## ğŸ”¨ å·¥å…·ç®¡ç†

### MCP å·¥å…·é›†æˆ

#### é›†æˆæµç¨‹

1. **æ·»åŠ å·¥å…·** - åœ¨"æˆ‘çš„å·¥å…·"ä¸­æ·»åŠ  MCP å·¥å…·
2. **é…ç½®å‚æ•°** - è®¾ç½®å·¥å…·å‚æ•°å’Œæƒé™
3. **ç»‘å®š Agent** - åœ¨ Agent ç®¡ç†ä¸­æ·»åŠ å·¥å…·
4. **éªŒè¯æµ‹è¯•** - éªŒè¯å·¥å…·é›†æˆæ•ˆæœ

#### å·¥å…·ç±»å‹

| å·¥å…·ç±»å‹ | åŠŸèƒ½æè¿° | ä½¿ç”¨åœºæ™¯ |
|---------|----------|----------|
| **æ•°æ®åº“è¿æ¥å™¨** | è¿æ¥å„ç±»æ•°æ®åº“ | æ•°æ®æŸ¥è¯¢ã€æ›´æ–°æ“ä½œ |
| **API è°ƒç”¨å™¨** | è°ƒç”¨å¤–éƒ¨ API | ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ |
| **æ–‡ä»¶å¤„ç†å™¨** | æ–‡ä»¶æ“ä½œå·¥å…· | æ–‡æ¡£ç”Ÿæˆã€æ ¼å¼è½¬æ¢ |
| **è®¡ç®—å·¥å…·** | æ•°å­¦è®¡ç®—åŠŸèƒ½ | æ•°æ®åˆ†æã€ç»Ÿè®¡è®¡ç®— |

### å·¥å…·é…ç½®

` + '```yaml' + `
# MCP å·¥å…·é…ç½®ç¤ºä¾‹
tool_config:
  name: "database_connector"
  version: "1.0.0"
  permissions:
    - read_data
    - write_data
  parameters:
    connection_string: "postgresql://localhost:5432/mydb"
    timeout: 30
  authentication:
    type: "api_key"
    key: "` + '${API_KEY}' + `"
` + '```' + ``,

    tasks: `# âœ… å¾…åŠä»»åŠ¡ä½¿ç”¨æŒ‡å—

## ğŸ“‹ ä»»åŠ¡æŸ¥çœ‹

### 1. ä»»åŠ¡åˆ—è¡¨ç•Œé¢

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ æˆ‘çš„å¾…åŠä»»åŠ¡                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´ [é«˜ä¼˜å…ˆçº§] æ•°æ®åˆ†ææŠ¥å‘Š               â”‚
â”‚ ğŸŸ¡ [ä¸­ä¼˜å…ˆçº§] ç”¨æˆ·åé¦ˆå¤„ç†               â”‚
â”‚ ğŸŸ¢ [ä½ä¼˜å…ˆçº§] æ–‡æ¡£æ•´ç†                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

### 2. ç­›é€‰åŠŸèƒ½

| ç­›é€‰æ¡ä»¶ | é€‰é¡¹ | æè¿° |
|---------|------|------|
| **çŠ¶æ€** | å¾…å¤„ç†/è¿›è¡Œä¸­/å·²å®Œæˆ | æŒ‰ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€ç­›é€‰ |
| **ä¼˜å…ˆçº§** | é«˜/ä¸­/ä½ | æŒ‰ä»»åŠ¡é‡è¦æ€§ç­›é€‰ |
| **ç±»å‹** | ä¸ªäººä»»åŠ¡/åä½œä»»åŠ¡ | æŒ‰ä»»åŠ¡ç±»å‹ç­›é€‰ |
| **æˆªæ­¢æ—¶é—´** | ä»Šæ—¥/æœ¬å‘¨/æœ¬æœˆ | æŒ‰æ—¶é—´æœŸé™ç­›é€‰ |

### 3. ä»»åŠ¡è¯¦æƒ…

> ğŸ“„ **ä»»åŠ¡ä¿¡æ¯åŒ…å«ï¼š**
> - ä»»åŠ¡æè¿°å’Œè¦æ±‚
> - ä¸Šä¸‹æ–‡ä¿¡æ¯å’Œç›¸å…³èµ„æ–™
> - æˆªæ­¢æ—¶é—´å’Œä¼˜å…ˆçº§
> - æ‰§è¡Œå†å²å’ŒçŠ¶æ€è®°å½•

---

## ğŸ¯ ä»»åŠ¡æ‰§è¡Œ

### 1. ç‹¬ç«‹å®Œæˆæ¨¡å¼

\`\`\`mermaid
graph TD
    A[é€‰æ‹©ç‹¬ç«‹å®Œæˆ] --> B[ç‚¹å‡»å¼€å§‹ä»»åŠ¡]
    B --> C[æŒ‰è¦æ±‚æ‰§è¡Œ]
    C --> D[æäº¤æ‰§è¡Œç»“æœ]
    D --> E[ä»»åŠ¡å®Œæˆ]
\`\`\`

#### æ‰§è¡Œæ­¥éª¤
1. **ä»»åŠ¡å¯åŠ¨** - ç‚¹å‡»"å¼€å§‹ä»»åŠ¡"
2. **ä»»åŠ¡æ‰§è¡Œ** - æŒ‰ç…§ä»»åŠ¡è¦æ±‚è¿›è¡Œæ“ä½œ
3. **ç»“æœæäº¤** - å¡«å†™æ‰§è¡Œç»“æœå’Œç›¸å…³ä¿¡æ¯
4. **çŠ¶æ€æ›´æ–°** - ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°ä»»åŠ¡çŠ¶æ€

### 2. ä»»åŠ¡ç»†åˆ†æ¨¡å¼

#### é€‚ç”¨åœºæ™¯

> ğŸ” **ä½•æ—¶ä½¿ç”¨ä»»åŠ¡ç»†åˆ†ï¼Ÿ**
> - ä»»åŠ¡å¼€å§‹å‰è§‰å¾—ä»»åŠ¡å¤ªå¤æ‚
> - ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç°éœ€è¦ç»†åˆ†
> - éœ€è¦å¤šäººåä½œå®Œæˆçš„ä»»åŠ¡

#### ç»†åˆ†é€‰é¡¹

- **å¤ç”¨å·¥ä½œæµ** ğŸ”„
  - é€‰æ‹©ç°æœ‰çš„å·¥ä½œæµæ¨¡æ¿
  - å¿«é€Ÿå¯åŠ¨æ ‡å‡†åŒ–æµç¨‹
  - é€‚åˆå¸¸è§ä»»åŠ¡ç±»å‹

- **åˆ›å»ºæ–°å·¥ä½œæµ** âš¡
  - ä¸ºå½“å‰ä»»åŠ¡åˆ›å»ºä¸“ç”¨å·¥ä½œæµ
  - çµæ´»å®šåˆ¶å¤„ç†æ­¥éª¤
  - é€‚åˆç‰¹æ®Šéœ€æ±‚åœºæ™¯

### 3. å­ä»»åŠ¡ç›‘æ§

#### ç›‘æ§é¢æ¿

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š å­å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¶ï¸  æ•°æ®æ”¶é›†      [å·²å®Œæˆ] âœ…           â”‚
â”‚ â¸ï¸  æ•°æ®æ¸…æ´—      [æ‰§è¡Œä¸­] ğŸ”„           â”‚
â”‚ â¹ï¸  æ•°æ®åˆ†æ      [ç­‰å¾…ä¸­] â³           â”‚
â”‚ â¹ï¸  æŠ¥å‘Šç”Ÿæˆ      [ç­‰å¾…ä¸­] â³           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

#### ç›‘æ§åŠŸèƒ½
- **å®æ—¶çŠ¶æ€** - æŸ¥çœ‹å­ä»»åŠ¡æ‰§è¡Œè¿›åº¦
- **æ‰§è¡Œæ—¥å¿—** - è¯¦ç»†çš„æ‰§è¡Œè¿‡ç¨‹è®°å½•
- **ç»“æœæŸ¥çœ‹** - å­å·¥ä½œæµçš„æäº¤ç»“æœ
- **å¼‚å¸¸å¤„ç†** - é”™è¯¯ä¿¡æ¯å’Œå¤„ç†å»ºè®®

---

## ğŸ¤ ä»»åŠ¡åä½œ

### 1. äººæœºåä½œæ¨¡å¼

#### åä½œæµç¨‹

\`\`\`javascript
// äººæœºåä½œç¤ºä¾‹
const collaborativeTask = {
  humanTasks: [
    "éœ€æ±‚åˆ†æå’Œç¡®è®¤",
    "è´¨é‡æ£€æŸ¥å’ŒéªŒæ”¶"
  ],
  agentTasks: [
    "æ•°æ®å¤„ç†å’Œè®¡ç®—", 
    "æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆ"
  ],
  handoffPoints: [
    "æ•°æ®å¤„ç†å®Œæˆåäº¤ç»™äººå·¥æ£€æŸ¥",
    "äººå·¥ç¡®è®¤åè‡ªåŠ¨ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š"
  ]
}
\`\`\`

### 2. ä»»åŠ¡åˆ†é…ç­–ç•¥

#### æ™ºèƒ½åˆ†é…

| åˆ†é…å› ç´  | æƒé‡ | è¯´æ˜ |
|---------|------|------|
| **å¤„ç†å™¨èƒ½åŠ›** | 40% | åŒ¹é…ä»»åŠ¡éœ€æ±‚å’Œå¤„ç†å™¨ä¸“é•¿ |
| **å½“å‰è´Ÿè½½** | 30% | è€ƒè™‘å¤„ç†å™¨å½“å‰å·¥ä½œé‡ |
| **å†å²è¡¨ç°** | 20% | åŸºäºè¿‡å¾€æ‰§è¡Œè´¨é‡ |
| **ä»»åŠ¡ä¼˜å…ˆçº§** | 10% | é«˜ä¼˜å…ˆçº§ä»»åŠ¡ä¼˜å…ˆåˆ†é… |

#### æ‰‹åŠ¨è°ƒæ•´

- **é‡æ–°åˆ†é…** - ç®¡ç†å‘˜å¯æ‰‹åŠ¨è°ƒæ•´ä»»åŠ¡åˆ†é…
- **è´Ÿè½½å‡è¡¡** - é¿å…æŸä¸ªå¤„ç†å™¨è´Ÿè½½è¿‡é‡
- **ä¼˜å…ˆçº§è°ƒæ•´** - æ ¹æ®ä¸šåŠ¡éœ€è¦è°ƒæ•´ä»»åŠ¡ä¼˜å…ˆçº§

> ğŸ’¡ **æœ€ä½³å®è·µ**
> - å®šæœŸæ£€æŸ¥ä»»åŠ¡åˆ†é…çš„åˆç†æ€§
> - æ ¹æ®åé¦ˆè°ƒæ•´åˆ†é…ç­–ç•¥
> - ä¿æŒäººæœºåä½œçš„å¹³è¡¡`
  };

  return (
    <div style={{ padding: '24px', background: '#fff', borderRadius: '8px' }}>
      {/* é¡µé¢æ ‡é¢˜å’Œæ“ä½œæŒ‰é’® */}
      <div style={{ 
        display: 'flex', 
        justifyContent: 'space-between', 
        alignItems: 'center',
        marginBottom: '24px',
        borderBottom: '1px solid #f0f0f0',
        paddingBottom: '16px'
      }}>
        <Title level={2} style={{ margin: 0 }}>
          ğŸ“š ä½¿ç”¨è¯´æ˜
        </Title>
        
        <Space>
          <Button 
            icon={viewMode === 'rendered' ? <EyeOutlined /> : <EyeOutlined />}
            onClick={() => setViewMode(viewMode === 'rendered' ? 'raw' : 'rendered')}
            size="small"
          >
            {viewMode === 'rendered' ? 'æŸ¥çœ‹æºç ' : 'æ¸²æŸ“è§†å›¾'}
          </Button>
          <Button 
            type="primary"
            icon={<DownloadOutlined />}
            onClick={exportMarkdown}
            size="small"
          >
            å¯¼å‡º Markdown
          </Button>
        </Space>
      </div>
      
      {/* Tabå†…å®¹ */}
      <Tabs 
        defaultActiveKey="overview" 
        size="large"
        style={{ minHeight: '70vh' }}
        items={[
          {
            key: 'overview',
            label: 'ğŸ  å¹³å°æ¦‚è¿°',
            children: (
              <Card 
                style={{ minHeight: '60vh' }}
                styles={{ body: { padding: viewMode === 'raw' ? '16px' : '32px' } }}
              >
                {viewMode === 'rendered' ? (
                  <MarkdownRenderer content={documentationContent.overview} />
                ) : (
                  <pre style={{ 
                    whiteSpace: 'pre-wrap', 
                    fontFamily: 'Monaco, Menlo, "Ubuntu Mono", monospace',
                    fontSize: '13px',
                    lineHeight: '1.6',
                    backgroundColor: '#f8f9fa',
                    padding: '16px',
                    borderRadius: '6px',
                    border: '1px solid #e9ecef',
                    overflow: 'auto'
                  }}>
                    {documentationContent.overview}
                  </pre>
                )}
              </Card>
            )
          },
          {
            key: 'workflow',
            label: 'ğŸŒŠ å·¥ä½œæµç®¡ç†',
            children: (
              <Card 
                style={{ minHeight: '60vh' }}
                styles={{ body: { padding: viewMode === 'raw' ? '16px' : '32px' } }}
              >
                {viewMode === 'rendered' ? (
                  <MarkdownRenderer content={documentationContent.workflow} />
                ) : (
                  <pre style={{ 
                    whiteSpace: 'pre-wrap', 
                    fontFamily: 'Monaco, Menlo, "Ubuntu Mono", monospace',
                    fontSize: '13px',
                    lineHeight: '1.6',
                    backgroundColor: '#f8f9fa',
                    padding: '16px',
                    borderRadius: '6px',
                    border: '1px solid #e9ecef',
                    overflow: 'auto'
                  }}>
                    {documentationContent.workflow}
                  </pre>
                )}
              </Card>
            )
          },
          {
            key: 'resource',
            label: 'ğŸ”§ èµ„æºç®¡ç†',
            children: (
              <Card 
                style={{ minHeight: '60vh' }}
                styles={{ body: { padding: viewMode === 'raw' ? '16px' : '32px' } }}
              >
                {viewMode === 'rendered' ? (
                  <MarkdownRenderer content={documentationContent.resource} />
                ) : (
                  <pre style={{ 
                    whiteSpace: 'pre-wrap', 
                    fontFamily: 'Monaco, Menlo, "Ubuntu Mono", monospace',
                    fontSize: '13px',
                    lineHeight: '1.6',
                    backgroundColor: '#f8f9fa',
                    padding: '16px',
                    borderRadius: '6px',
                    border: '1px solid #e9ecef',
                    overflow: 'auto'
                  }}>
                    {documentationContent.resource}
                  </pre>
                )}
              </Card>
            )
          },
          {
            key: 'tasks',
            label: 'âœ… å¾…åŠä»»åŠ¡',
            children: (
              <Card 
                style={{ minHeight: '60vh' }}
                styles={{ body: { padding: viewMode === 'raw' ? '16px' : '32px' } }}
              >
                {viewMode === 'rendered' ? (
                  <MarkdownRenderer content={documentationContent.tasks} />
                ) : (
                  <pre style={{ 
                    whiteSpace: 'pre-wrap', 
                    fontFamily: 'Monaco, Menlo, "Ubuntu Mono", monospace',
                    fontSize: '13px',
                    lineHeight: '1.6',
                    backgroundColor: '#f8f9fa',
                    padding: '16px',
                    borderRadius: '6px',
                    border: '1px solid #e9ecef',
                    overflow: 'auto'
                  }}>
                    {documentationContent.tasks}
                  </pre>
                )}
              </Card>
            )
          }
        ]}
      />
      
      {/* åº•éƒ¨æç¤º */}
      <Alert
        style={{ marginTop: '24px' }}
        message="ğŸ’¡ ä½¿ç”¨æç¤º"
        description={
          <div>
            <p>â€¢ <strong>æ¸²æŸ“è§†å›¾</strong>ï¼šä»¥ç¾è§‚çš„æ ¼å¼æŸ¥çœ‹æ–‡æ¡£ï¼Œæ”¯æŒè¯­æ³•é«˜äº®ã€è¡¨æ ¼ã€é“¾æ¥ç­‰äº¤äº’åŠŸèƒ½</p>
            <p>â€¢ <strong>æºç æ¨¡å¼</strong>ï¼šæŸ¥çœ‹åŸå§‹ Markdown æºç ï¼Œä¾¿äºå¤åˆ¶å’Œç¼–è¾‘</p>
            <p>â€¢ <strong>å¯¼å‡ºåŠŸèƒ½</strong>ï¼šå°†å®Œæ•´æ–‡æ¡£å¯¼å‡ºä¸º .md æ–‡ä»¶ï¼Œä¾¿äºç¦»çº¿æŸ¥çœ‹æˆ–åˆ†äº«</p>
            <p>â€¢ å¦‚éœ€æ›´å¤šå¸®åŠ©ï¼Œè¯·è”ç³»ç³»ç»Ÿç®¡ç†å‘˜æˆ–æŸ¥çœ‹è¯¦ç»†æŠ€æœ¯æ–‡æ¡£</p>
          </div>
        }
        type="info"
        showIcon
      />
    </div>
  );
};

export default Help;
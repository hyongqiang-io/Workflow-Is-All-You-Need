# 登录注册问题调试指南

## 🔍 问题诊断步骤

### 1. 检查后端服务是否运行
```bash
# 检查后端是否在运行
curl http://localhost:8000/api/auth/register
```

### 2. 检查API响应格式
后端登录API返回格式：
```json
{
  "success": true,
  "message": "登录成功",
  "data": {
    "token": {
      "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
      "token_type": "bearer",
      "expires_in": 1800,
      "user_id": "uuid-string",
      "username": "testuser"
    },
    "message": "欢迎回来！"
  }
}
```

### 3. 浏览器开发者工具检查
1. 打开浏览器开发者工具 (F12)
2. 切换到 Network 标签页
3. 尝试登录，查看请求和响应
4. 检查 Console 标签页的错误信息

### 4. 常见问题及解决方案

#### 问题1: CORS错误
**症状**: 浏览器控制台显示CORS错误
**解决**: 确保后端配置了正确的CORS设置

#### 问题2: 网络连接错误
**症状**: 请求失败，无法连接到服务器
**解决**: 
- 检查后端是否运行在 http://localhost:8000
- 检查防火墙设置

#### 问题3: 响应格式不匹配
**症状**: 登录成功但前端报错
**解决**: 已修复前端代码以匹配后端响应格式

#### 问题4: 数据库连接问题
**症状**: 后端返回500错误
**解决**: 检查数据库连接和配置

### 5. 测试步骤

1. **启动后端服务**:
   ```bash
   cd workflow_framework
   python main.py
   ```

2. **启动前端服务**:
   ```bash
   cd frontend
   npm start
   ```

3. **访问登录页面**: http://localhost:3000/login

4. **点击"测试注册和登录"按钮**，查看控制台输出

5. **手动测试**:
   - 注册新用户
   - 使用注册的用户名登录
   - 检查是否成功跳转到主页面

### 6. 调试信息

前端已添加详细的调试信息：
- 控制台会显示API请求和响应
- 错误信息会显示在页面上
- 网络请求可以在开发者工具中查看

### 7. 如果仍然有问题

1. 检查后端日志输出
2. 确认数据库中有用户数据
3. 验证JWT密钥配置
4. 检查API路由是否正确

### 8. 临时解决方案

如果登录注册仍有问题，可以：
1. 使用API测试组件验证连接
2. 手动创建测试用户
3. 检查后端API文档 